<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–û–ì–≠ ‚Äî –ó–∞–¥–∞–Ω–∏–µ</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/oge.css}">
</head>
<body class="gradient-bg">

<!-- ==== –ù–ê–í–ò–ì–ê–¶–ò–Ø ==== -->
<header class="navbar">
    <div class="nav-container">
        <a th:href="@{/home}" class="nav-logo">Code 9.11</a>
        <nav class="nav-links">
            <a th:href="@{/home}" class="nav-link" th:classappend="${currentUri == '/home' ? ' active' : ''}"> üè†–ì–ª–∞–≤–Ω–∞—è</a>
            <a th:href="@{/profile}" class="nav-link" th:classappend="${currentUri == '/profile' ? ' active' : ''}"> üë§–ü—Ä–æ—Ñ–∏–ª—å</a>
            <a th:href="@{/logout}" class="nav-link logout">üö™–í—ã–π—Ç–∏</a>
        </nav>
    </div>
</header>

<div class="container">
    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
    <div class="progress-container">
        <div class="progress-bar">
            <div class="progress-fill" th:style="'width:' + ${currentProgress} + '%'"></div>
        </div>
        <div class="progress-text">
            –ó–∞–¥–∞–Ω–∏–µ <span th:text="${currentTask}"></span> –∏–∑ <span th:text="${totalTasks}"></span>
        </div>
    </div>

    <!-- –¢–∞–π–º–µ—Ä -->
    <div class="timer" th:text="'00:' + ${remainingTime}"></div>

    <h2>–ó–∞–¥–∞–Ω–∏–µ <span th:text="${task.id()}"></span></h2>
    <p class="question" th:text="${task.question()}"></p>

    <form th:action="@{/oge/task/{id}(id=${task.id()})}" method="post">
        <input type="text" name="answer" placeholder="–í–∞—à –æ—Ç–≤–µ—Ç" required autofocus>
        <button type="submit" class="cta-button">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    </form>

    <p th:if="${task.hint()}" class="hint">–ü–æ–¥—Å–∫–∞–∑–∫–∞: <span th:text="${task.hint()}"></span></p>
</div>

<script th:src="@{/js/oge-timer.js}"></script>
</body>
</html>
